# 垃圾回收机制

- 垃圾回收机制（Garbage Collection，GC）
  - 自动管理内存
  - 垃圾回收器会定期找出那些不在继续使用的变量，然后释放其占用的内存
  - 垃圾回收器会按照固定的时间间隔周期性的执行这个操作

### 垃圾回收机制的方法和优缺点

- 垃圾回收机制的方法
  - 标记清除法
    - 标记出所有需要回收的对象，然后回收掉所有被标记的对象
    - 缺点：
      - 效率问题
      - 标记清除后会产生大量不连续的内存碎片，导致无法给大对象分配内存
  - 引用计数法
    - 给对象添加一个引用计数器，每当有一个地方引用它时，计数器值就加1
    - 每当引用失效时，计数器值就减1
    - 任何时刻计数器为0的对象就是不可能再被使用的
    - 缺点：
      - 循环引用问题
  - 分代回收法
    - 将系统中的所有内存块分为不同的集合，根据各个集合的特点采用最适当的收集算法
    - 一般分为新生代和老年代
    - 新生代中，每次垃圾回收时都发现有大批对象死去，只有少量存活，那就选用复制算法，只需要付出少量存活对象的复制成本就可以完成收集
    - 老年代中，对象存活率高、没有额外空间对它进行分配担保，就必须使用“标记-清理”或者“标记-整理”算法来进行回收

### 内存管理

- 内存管理
  - 内存管理就是分配和释放内存
  - 内存分配
    - 程序在运行过程中，需要动态地分配内存来存储各种数据
    - 分配的内存空间，在不需要再使用时，需要将其释放，以供其他程序使用
  - 内存释放
    - 当程序不再使用某段内存时，需要将其释放，以供其他程序使用

### 内存管理机制

- 内存管理机制
  - 自动管理内存
    - 垃圾回收器会定期找出那些不在继续使用的变量，然后释放其占用的内存
    - 垃圾回收器会按照固定的时间间隔周期性的执行这个操作
  - 手动管理内存
    - 程序员自己负责分配和释放内存

### 内存泄漏

- 内存泄漏（Memory Leak）
  - 占用的内存没有及时释放
  - 内存泄漏积累多了就容易导致内存溢出
  - 内存泄漏积累多了就容易导致内存泄漏

### 内存溢出

- 内存溢出（Memory Overflow）
  - 占用的内存超过系统分配的内存
  - 内存溢出容易导致程序崩溃